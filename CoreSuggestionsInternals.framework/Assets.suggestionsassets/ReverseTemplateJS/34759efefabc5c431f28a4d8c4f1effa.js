// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("qunar-flight-confirmation-zh",function(e){return!0},function(e){if(!/\u3010\u53bb\u54ea\u513f\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u8bf7\u63d0\u524d2\u5c0f\u65f6\u5230\u673a\u573a\u503c\u673a\u3002/.test(e.plain))return CONTINUE;var r="zh_Hans_CN",t=Scanner.fromMessage(e);t.setLocale(r);for(var a=t.getSpan(),i=[],n=[],p=[],o=(a.innerCapture(/\u3010(.+)\u3011/),a.innerLink()),u=/(\d{1,2}\u6708\d{1,2}\u65e5)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})\u7684([^0-9A-Z].+?)?([0-9A-Z]{2})(\d{3,4})(.+?)(?:\uff08\u6709\u7ecf\u505c\uff09)?-(.+?)(?:\uff08\u6709\u7ecf\u505c\uff09)?(?:\u53ca|\u5df2\u51fa\u7968)/,l=a.nextRegExp(u);l!=t.getNullSpan();l=l.nextRegExp(u))_=l.innerCapture(u),_&&9===_.length&&i.push({departureDateTime:t.getDetachedSpan(_[1]+""+_[2]),arrivalDateTime:t.getDetachedSpan(_[1]+""+_[3]),airlineName:_[4],airlineCode:_[5],flightNumber:_[6],departureAirport:_[7],arrivalAirport:_[8]});var m=/[\uff0c,](.+?)\u7968\u53f7([\d\-]+)[,\u3002]/;for(l=a.nextRegExp(m);l!=t.getNullSpan();l=l.nextRegExp(m))_=l.innerCapture(m),n.push({name:_[1],ticketNumber:_[2]});return n.forEach(function(e){i.forEach(function(r){ASSERT(e.name,r.airlineCode,r.flightNumber,r.departureAirport,r.departureDateTime,r.arrivalAirport,r.arrivalDateTime)&&p.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:r.airlineName,airlineCode:r.airlineCode,flightNumber:r.flightNumber,departureAirportFuzzy:r.departureAirport,departureTime:r.departureDateTime,arrivalAirportFuzzy:r.arrivalAirport,arrivalTime:r.arrivalDateTime},underName:{"@type":"http://schema.org/Person",name:e.name},checkinUrl:o,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:e.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat"}}})})}),p.length>=1?p:CONTINUE},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/71/93/95","SGfb5a1872")]);
